# ๐ ูุธุงู ูุดู ุญุงูุฉ ุงุชุตุงู ุงูุชุทุจูู

> ูุธุงู ุฐูู ูุชุญุฏูุฏ ุญุงูุฉ ุงุชุตุงู ุชุทุจูู Flutter ุจุงูุฎุงุฏู ุจูุงุกู ุนูู ุขุฎุฑ ูููุน ุชู ุงุณุชูุงูู

---

## ๐ ููู ูุนูู ุงููุธุงู

### โฑ๏ธ ูุชุฑุงุช ุงููุดู:

| ุงููุชุฑุฉ ุงูุฒูููุฉ | ุงูุญุงูุฉ | ุงูููู | ุงููุคุดุฑ |
|----------------|--------|-------|--------|
| **< 5 ุฏูุงุฆู** | ๐ข ูุชุตู ุงูุขู | ุฃุฎุถุฑ | ููุทุฉ ูุงูุถุฉ |
| **5-30 ุฏูููุฉ** | ๐ ูุดุท ูุคุฎุฑุงู | ุจุฑุชูุงูู | ููุทุฉ ุซุงุจุชุฉ |
| **30 ุฏูููุฉ - 6 ุณุงุนุงุช** | ๐ด ุบูุฑ ูุชุตู | ุฃุญูุฑ | ููุทุฉ ุซุงุจุชุฉ |
| **> 6 ุณุงุนุงุช** | โซ ุบูุฑ ูุดุท | ุฑูุงุฏู | ููุทุฉ ุซุงุจุชุฉ |
| **ูุง ููุฌุฏ ูููุน** | โซ ูุง ููุฌุฏ ูููุน | ุฑูุงุฏู | - |

---

## โ ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ

### 1. **Backend (routes/employees.py)**

#### ูุจู:
```python
# ูุงู ูุนุชูุฏ ุนูู ุงูุณุงุนุงุช ููุท
if age_hours < 1:
    status_text = 'ูุดุท'  # ุบูุฑ ูุงุถุญ
```

#### ุจุนุฏ:
```python
# ุงูุขู ูุนุชูุฏ ุนูู ุงูุฏูุงุฆู ููุฏูุฉ
if age_minutes < 5:
    status_text = 'ูุชุตู'
    connection_status = 'connected'
elif age_minutes < 30:
    status_text = 'ูุดุท ูุคุฎุฑุงู'
    connection_status = 'recently_active'
elif age_hours < 6:
    status_text = 'ุบูุฑ ูุชุตู'  # โ ูุงุถุญ!
    connection_status = 'disconnected'
```

### 2. **Frontend (templates/employees/tracking.html)**

#### ุงูุชุญุณููุงุช:
- โ ูุคุดุฑ ูููู ูุงุถุญ (๐ข๐๐ดโซ)
- โ ููุช ุฏููู (ููุฐ X ุฏูููุฉ/ุซุงููุฉ)
- โ ูุต ูุงุถุญ ููุญุงูุฉ
- โ ููุทุฉ ูุงูุถุฉ ููุญุงูุฉ ุงููุชุตูุฉ

---

## ๐ฏ ุณููุงุฑูููุงุช ุงูุงุณุชุฎุฏุงู

### ุงูุณููุงุฑูู 1: ุงูุชุทุจูู ูุนูู
```
ุขุฎุฑ ูููุน: ููุฐ 2 ุฏูููุฉ
ุงูุญุงูุฉ: ๐ข ูุชุตู ุงูุขู
```

### ุงูุณููุงุฑูู 2: ุงูุชุทุจูู ูุชููู
```
ุขุฎุฑ ูููุน: ููุฐ 15 ุฏูููุฉ
ุงูุญุงูุฉ: ๐ ูุดุท ูุคุฎุฑุงู
```

### ุงูุณููุงุฑูู 3: ุงูุชุทุจูู ููุบูู
```
ุขุฎุฑ ูููุน: ููุฐ ุณุงุนุฉ
ุงูุญุงูุฉ: ๐ด ุบูุฑ ูุชุตู
```

### ุงูุณููุงุฑูู 4: ูู ููุณุชุฎุฏู ููุฐ ูุชุฑุฉ ุทูููุฉ
```
ุขุฎุฑ ูููุน: ููุฐ 12 ุณุงุนุฉ
ุงูุญุงูุฉ: โซ ุบูุฑ ูุดุท
```

---

## ๐งช ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. ุงูุชุทุจูู ูุนูู:
```dart
// ูู ุชุทุจูู Flutter - ุฃุฑุณู ูููุน
await ApiService.sendLocation(
  jobNumber: 'EMP001',
  latitude: 24.7136,
  longitude: 46.6753,
);
```
**ุงููุชูุฌุฉ:** ุณูุธูุฑ "๐ข ูุชุตู ุงูุขู"

### 2. ุฃููู ุงูุชุทุจูู:
- ุงูุชุธุฑ **5 ุฏูุงุฆู** ุจุฏูู ุฅุฑุณุงู ูููุน
- ุฃุนุฏ ุชุญููู ุตูุญุฉ ุงูุชุชุจุน

**ุงููุชูุฌุฉ:** ุณูุชุญูู ุฅูู "๐ ูุดุท ูุคุฎุฑุงู"

### 3. ุงูุชุธุฑ ุฃูุซุฑ:
- ุงูุชุธุฑ **30 ุฏูููุฉ** ุจุฏูู ุฅุฑุณุงู ูููุน

**ุงููุชูุฌุฉ:** ุณูุชุญูู ุฅูู "๐ด ุบูุฑ ูุชุตู"

---

## ๐ ุงูุตูุญุงุช ุงููุชุฃุซุฑุฉ

### 1. ุตูุญุฉ ุงูุชุชุจุน ุงููุจุงุดุฑ
```
http://nuzum.site/employees/tracking
```
- โ ุนุฑุถ ุญุงูุฉ ุงูุงุชุตุงู ููู ููุธู
- โ ุฃููุงู ูุงุถุญุฉ
- โ ูุคุดุฑุงุช ุจุตุฑูุฉ

### 2. ููุญุฉ ุงูุชุญูู
```
http://nuzum.site/employees/tracking-dashboard
```
- ููุงุญุธุฉ: ูุฏ ุชุญุชุงุฌ ุชุญุฏูุซ ูุณุชูุจูู

---

## ๐ง ุฅุนุฏุงุฏุงุช ูุงุจูุฉ ููุชุฎุตูุต

### ูู ุงูููุฏ (routes/employees.py):

```python
# ูููู ุชุนุฏูู ูุฐู ุงูููู ุญุณุจ ุงูุญุงุฌุฉ:

# ุงูุญุฏ ุงููุงุตู ูู "ูุชุตู"
if age_minutes < 5:  # ุบูุฑ ุฅูู 3 ุฃู 10 ุฏูุงุฆู

# ุงูุญุฏ ุงููุงุตู ูู "ูุดุท ูุคุฎุฑุงู"
elif age_minutes < 30:  # ุบูุฑ ุฅูู 15 ุฃู 60 ุฏูููุฉ

# ุงูุญุฏ ุงููุงุตู ูู "ุบูุฑ ูุชุตู"
elif age_hours < 6:  # ุบูุฑ ุฅูู 3 ุฃู 12 ุณุงุนุฉ
```

---

## ๐ก ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

### ูููุฏูุฑูู:
- โ ุฅุฐุง ุธูุฑ "๐ด ุบูุฑ ูุชุตู"ุ ุชูุงุตู ูุน ุงูููุธู ููุชุญูู
- โ "๐ข ูุชุตู ุงูุขู" ูุนูู ุงูุชุทุจูู ูุนูู ุจุดูู ุตุญูุญ
- โ "๐ ูุดุท ูุคุฎุฑุงู" ูุนูู ุงูุชุทุจูู ุชููู ูุคูุชุงู

### ููููุธููู:
- โ ุชุฃูุฏ ูู ูุชุญ ุงูุชุทุจูู ูู 5 ุฏูุงุฆู ูุฅุฑุณุงู ุงููููุน
- โ ูุง ุชุบูู ุงูุชุทุจูู ุชูุงูุงู ุฃุซูุงุก ุงูุนูู
- โ ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช

---

## ๐ ุฅุญุตุงุฆูุงุช ุงูุฃุฏุงุก

### ุงูุชุญุฏูุซ ุงูุชููุงุฆู:
- ุงูุตูุญุฉ ุชุญุฏุซ ูู **30 ุซุงููุฉ** ุชููุงุฆูุงู
- ูุชู ุฌูุจ ุฃุญุฏุซ ุงูููุงูุน ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงูุญุงูุงุช ุชูุญุณุจ ูู ุงูููุช ุงููุนูู

---

## ๐จ ุงูุชุตููู

### ุงูุฃููุงู ุงููุณุชุฎุฏูุฉ:

```css
/* ูุชุตู */
background: rgba(16, 185, 129, 0.2);
color: #6ee7b7;
border: 1px solid rgba(16, 185, 129, 0.3);

/* ูุดุท ูุคุฎุฑุงู */
background: rgba(251, 146, 60, 0.2);
color: #fdba74;
border: 1px solid rgba(251, 146, 60, 0.3);

/* ุบูุฑ ูุชุตู */
background: rgba(239, 68, 68, 0.2);
color: #fca5a5;
border: 1px solid rgba(239, 68, 68, 0.3);

/* ุบูุฑ ูุดุท */
background: rgba(107, 114, 128, 0.2);
color: #d1d5db;
border: 1px solid rgba(107, 114, 128, 0.3);
```

---

## โ๏ธ ุงูุชูุงูู ูุน ุชุทุจูู Flutter

### ุชุฃูุฏ ูู ุฅุฑุณุงู ุงูููุงูุน ุจุงูุชุธุงู:

```dart
// ูู ุชุทุจูู Flutter
Timer.periodic(Duration(minutes: 3), (timer) async {
  // ุฃุฑุณู ูููุน ูู 3 ุฏูุงุฆู ูุถูุงู ุญุงูุฉ "ูุชุตู"
  final position = await Geolocator.getCurrentPosition();
  
  await ApiService.sendLocation(
    jobNumber: employeeJobNumber,
    latitude: position.latitude,
    longitude: position.longitude,
    accuracy: position.accuracy,
  );
});
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุธูุฑ "ุบูุฑ ูุชุตู" ุฑุบู ุนูู ุงูุชุทุจูู

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
1. โ ุงูุชุทุจูู ูุง ูุฑุณู ุงูููุงูุน
2. โ ูุดููุฉ ูู ุงูุฅูุชุฑูุช
3. โ API Key ุฎุงุทุฆ

**ุงูุญู:**
- ุชุญูู ูู ุณุฌูุงุช ุงูุชุทุจูู (logs)
- ุชุฃูุฏ ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
- ุงุฎุชุจุฑ API ูู ุงููุชุตูุญ

### ุงููุดููุฉ: ุงูุญุงูุฉ ูุง ุชุชุบูุฑ

**ุงูุญู:**
- ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ (F5)
- ุงูุชุธุฑ 30 ุซุงููุฉ ููุชุญุฏูุซ ุงูุชููุงุฆู
- ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## โจ ุงูููุฎุต

### ูุจู ุงูุชุญุฏูุซ:
- โ ุญุงูุฉ ุบูุฑ ูุงุถุญุฉ
- โ ูุง ูููู ูุนุฑูุฉ ุฅุฐุง ูุงู ุงูุชุทุจูู ูุชุตู ุฃู ูุง
- โ ูุธุงู ุจุณูุท ุจูุงุกู ุนูู ุงูุณุงุนุงุช ููุท

### ุจุนุฏ ุงูุชุญุฏูุซ:
- โ ุญุงูุฉ ูุงุถุญุฉ ุฌุฏุงู (4 ุญุงูุงุช)
- โ ูุดู ุฏููู ุจุงูุฏูุงุฆู
- โ ูุคุดุฑุงุช ุจุตุฑูุฉ ููููุฉ
- โ ูุต ูุตูู ูุงุถุญ
- โ ููุช ุฏููู (ููุฐ X ุฏูููุฉ/ุซุงููุฉ)

---

**ูุธุงู ููุธู** - ูุดู ุฐูู ูุญุงูุฉ ุงูุงุชุตุงู ๐ธ๐ฆ

*ุงูุชุญุฏูุซ: ููููุจุฑ 2025*
