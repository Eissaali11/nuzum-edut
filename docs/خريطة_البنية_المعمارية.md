# ğŸ—ºï¸ Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© - Ù†ÙØ¸Ù…

## ğŸ“ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER / CLIENT                           â”‚
â”‚                  (Web Browser / Mobile App)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                            â”‚
             â”‚ HTTP(S)                    â”‚ API Calls (JWT)
             â”‚                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WEB INTERFACE         â”‚  â”‚    REST API                    â”‚
â”‚   presentation/web/     â”‚  â”‚    routes/api*.py              â”‚
â”‚                         â”‚  â”‚                                â”‚
â”‚   - Templates (Jinja2)  â”‚  â”‚   - /api/v1/employees         â”‚
â”‚   - Static (CSS/JS)     â”‚  â”‚   - /api/v1/vehicles          â”‚
â”‚   - Routes (Flask BP)   â”‚  â”‚   - /api/v1/attendance        â”‚
â”‚   - Forms (WTF)         â”‚  â”‚   - /api/external/*           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                           â”‚
             â”‚                           â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  APPLICATION LAYER (Partial)                â”‚
â”‚                  application/*/services.py                  â”‚
â”‚                                                             â”‚
â”‚   employees/services.py  â”‚  vehicles/services.py           â”‚
â”‚   operations/services.py â”‚  (Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±...)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LEGACY ROUTES (58 files)                 â”‚
â”‚                    routes/*.py                              â”‚
â”‚                                                             â”‚
â”‚  âš ï¸ Ø®Ù„Ø· Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª: DB + Business Logic + Presentation    â”‚
â”‚                                                             â”‚
â”‚  attendance.py (223KB) â”‚ api_employee_requests.py (137KB) â”‚
â”‚  external_safety.py (127KB) â”‚ operations.py (117KB)       â”‚
â”‚  documents.py (101KB) â”‚ reports.py (92KB) â”‚ ...           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               DOMAIN MODELS (Partial Migration)             â”‚
â”‚               domain/*/models.py + models.py                â”‚
â”‚                                                             â”‚
â”‚  âœ… domain/employees/models.py  (Employee, Attendance...)  â”‚
â”‚  âœ… domain/vehicles/models.py   (Vehicle, Handover...)     â”‚
â”‚  ğŸ”´ models.py (2,180 lines) - ÙŠØ­ØªØ§Ø¬ Ù„Ù„ØªÙ‚Ø³ÙŠÙ…              â”‚
â”‚  models_accounting.py                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DATABASE LAYER                             â”‚
â”‚                  SQLAlchemy ORM                             â”‚
â”‚                                                             â”‚
â”‚           MySQL (Production) / SQLite (Dev)                 â”‚
â”‚                  PostgreSQL (Replit)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Ø¯ÙˆØ±Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠØ©

```
1. HTTP Request
   â”‚
   â”œâ”€â”€â–¶ Web Interface (presentation/web/routes.py)
   â”‚    â”‚
   â”‚    â–¼
   â”‚    Flask Route Handler
   â”‚    â”‚
   â”‚    â”œâ”€â”€ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…Ø¨Ø§Ø´Ø± Ù„Ù€ models.query (âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ø¨Ù‚Ø© Repository)
   â”‚    â”œâ”€â”€ Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¯Ø§Ø®Ù„ Route (âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ø¨Ù‚Ø© Service)
   â”‚    â”œâ”€â”€ Ø¥Ù†Ø´Ø§Ø¡ PDF/Excel Ø¯Ø§Ø®Ù„ Route (âš ï¸ ÙŠÙ†Ø¨ØºÙŠ Ø£Ù† ÙŠÙƒÙˆÙ† ÙÙŠ Background)
   â”‚    â”‚
   â”‚    â–¼
   â”‚    render_template(...) Ø£Ùˆ jsonify(...)
   â”‚
   â””â”€â”€â–¶ API Endpoint (routes/api.py)
        â”‚
        â–¼
        JWT Authentication
        â”‚
        â”œâ”€â”€ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…Ø¨Ø§Ø´Ø± Ù„Ù€ models.query
        â”œâ”€â”€ Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¯Ø§Ø®Ù„ Route
        â”‚
        â–¼
        JSON Response

2. Database Query (SQLAlchemy)
   â”‚
   â–¼
   MySQL / SQLite / PostgreSQL

3. Response to Client
```

## ğŸ¯ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© (Clean Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT                               â”‚
â”‚                   Web / Mobile / API                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                            â”‚
             â”‚                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PRESENTATION LAYER    â”‚  â”‚    API LAYER                   â”‚
â”‚   presentation/web/     â”‚  â”‚    presentation/api/           â”‚
â”‚                         â”‚  â”‚                                â”‚
â”‚   - Thin Controllers    â”‚  â”‚   - REST Controllers          â”‚
â”‚   - View Models         â”‚  â”‚   - DTO Mapping               â”‚
â”‚   - Input Validation    â”‚  â”‚   - Authentication            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                           â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              APPLICATION LAYER (Use Cases)                  â”‚
â”‚              infrastructure/scripts/commands.py             â”‚
â”‚              application/*/queries.py                       â”‚
â”‚                                                             â”‚
â”‚   Commands (Write):        â”‚   Queries (Read):             â”‚
â”‚   - CreateEmployeeCommand  â”‚   - GetEmployeeQuery          â”‚
â”‚   - UpdateAttendanceCmd    â”‚   - ListEmployeesQuery        â”‚
â”‚   - ProcessSalaryCmd       â”‚   - GenerateReportQuery       â”‚
â”‚                                                             â”‚
â”‚   âœ… Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙÙ‚Ø· - Ø¨Ø¯ÙˆÙ† Flask - Ø¨Ø¯ÙˆÙ† SQL            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     DOMAIN LAYER        â”‚  â”‚  INFRASTRUCTURE LAYER         â”‚
â”‚     domain/*/           â”‚  â”‚  infrastructure/*/            â”‚
â”‚                         â”‚  â”‚                               â”‚
â”‚  - Entities             â”‚  â”‚  - Repositories (SQLAlchemy) â”‚
â”‚  - Value Objects        â”‚  â”‚  - Email Service             â”‚
â”‚  - Domain Services      â”‚  â”‚  - SMS Service               â”‚
â”‚  - Business Rules       â”‚  â”‚  - File Storage              â”‚
â”‚                         â”‚  â”‚  - Cache (Redis)             â”‚
â”‚  âœ… Ù„Ø§ ØªØ¨Ø¹ÙŠØ§Øª Ø®Ø§Ø±Ø¬ÙŠØ©   â”‚  â”‚  - Queue (Celery)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚        DATABASE                  â”‚
                         â”‚    MySQL / PostgreSQL            â”‚
                         â”‚    Redis (Cache & Sessions)      â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¨Ù†ÙŠØ©

| Ø§Ù„Ø¬Ø§Ù†Ø¨ | Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ | Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù |
|--------|--------------|----------------|
| **Ø§Ù„Ø·Ø¨Ù‚Ø§Øª** | 3 Ø·Ø¨Ù‚Ø§Øª (Routes, Models, DB) | 5 Ø·Ø¨Ù‚Ø§Øª (Presentation, Application, Domain, Infrastructure, DB) |
| **Ø§Ù„ÙØµÙ„** | âŒ Ø®Ù„Ø· Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª | âœ… ÙØµÙ„ ÙˆØ§Ø¶Ø­ |
| **Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±** | âŒ ØµØ¹Ø¨ Ø¬Ø¯Ø§Ù‹ | âœ… Ø³Ù‡Ù„ (Unit Tests) |
| **Ø§Ù„ØµÙŠØ§Ù†Ø©** | âŒ ØµØ¹Ø¨Ø© | âœ… Ø³Ù‡Ù„Ø© |
| **Ø§Ù„ØªÙˆØ³Ø¹** | âŒ Ù…Ø­Ø¯ÙˆØ¯ | âœ… Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙˆØ³Ø¹ |
| **Ø§Ù„Ø£Ø¯Ø§Ø¡** | ğŸŸ  Ù…ØªÙˆØ³Ø· | âœ… Ù…Ù…ØªØ§Ø² (Ù…Ø¹ Caching) |

## ğŸ—‚ï¸ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø­Ø§Ù„ÙŠ vs Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù

### Ø§Ù„Ø­Ø§Ù„ÙŠ
```
nuzm/
â”œâ”€â”€ routes/              # 58 Ù…Ù„Ù (Ø®Ù„ÙŠØ· Ù…Ù† ÙƒÙ„ Ø´ÙŠØ¡)
â”‚   â”œâ”€â”€ attendance.py    # 223 KB ğŸ”´
â”‚   â”œâ”€â”€ employees.py     # 150 KB
â”‚   â””â”€â”€ ...
â”œâ”€â”€ models.py            # 2,180 Ø³Ø·Ø± ğŸ”´
â”œâ”€â”€ utils/               # 84 Ù…Ù„Ù (Ù…Ø¨Ø¹Ø«Ø±Ø©)
â””â”€â”€ services/            # 4 Ù…Ù„ÙØ§Øª ÙÙ‚Ø·
```

### Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù
```
nuzm/
â”œâ”€â”€ domain/                        # Ø§Ù„Ù†Ø·Ø§Ù‚Ø§Øª (Ø¨Ø¯ÙˆÙ† ØªØ¨Ø¹ÙŠØ§Øª)
â”‚   â”œâ”€â”€ employees/
â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â”œâ”€â”€ value_objects.py
â”‚   â”‚   â””â”€â”€ services.py
â”‚   â”œâ”€â”€ vehicles/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ accounting/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ identity/
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ application/                   # Use Cases
â”‚   â”œâ”€â”€ employees/
â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”œâ”€â”€ create_employee.py
â”‚   â”‚   â”‚   â”œâ”€â”€ update_employee.py
â”‚   â”‚   â”‚   â””â”€â”€ delete_employee.py
â”‚   â”‚   â””â”€â”€ queries/
â”‚   â”‚       â”œâ”€â”€ get_employee.py
â”‚   â”‚       â”œâ”€â”€ list_employees.py
â”‚   â”‚       â””â”€â”€ search_employees.py
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ infrastructure/                # Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙ‚Ù†ÙŠ
â”‚   â”œâ”€â”€ persistence/
â”‚   â”‚   â”œâ”€â”€ employee_repository.py
â”‚   â”‚   â”œâ”€â”€ vehicle_repository.py
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ email/
â”‚   â”‚   â””â”€â”€ sendgrid_service.py
â”‚   â”œâ”€â”€ sms/
â”‚   â”‚   â””â”€â”€ twilio_service.py
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â”œâ”€â”€ local_storage.py
â”‚   â”‚   â””â”€â”€ google_drive.py
â”‚   â””â”€â”€ cache/
â”‚       â””â”€â”€ redis_cache.py
â”‚
â””â”€â”€ presentation/                  # Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
    â”œâ”€â”€ web/                       # Flask Web
    â”‚   â”œâ”€â”€ employees/
    â”‚   â”‚   â”œâ”€â”€ routes.py          # (Ø±ÙÙŠØ¹ Ø¬Ø¯Ø§Ù‹)
    â”‚   â”‚   â””â”€â”€ templates/
    â”‚   â””â”€â”€ ...
    â””â”€â”€ api/                       # REST API
        â”œâ”€â”€ v1/
        â”‚   â”œâ”€â”€ employees.py
        â”‚   â”œâ”€â”€ vehicles.py
        â”‚   â””â”€â”€ ...
        â””â”€â”€ v2/
            â””â”€â”€ ...
```

## ğŸ”„ Ø¯ÙˆØ±Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©

```
1. HTTP Request
   â”‚
   â”œâ”€â”€â–¶ Presentation Layer
   â”‚    â”‚ (Ø±ÙÙŠØ¹ Ø¬Ø¯Ø§Ù‹ - ÙÙ‚Ø· validation Ùˆmapping)
   â”‚    â”‚
   â”‚    â–¼
   â”‚    Create Command/Query Object
   â”‚
2. Application Layer
   â”‚
   â”œâ”€â”€â–¶ Command Handler / Query Handler
   â”‚    â”‚ (Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„)
   â”‚    â”‚
   â”‚    â–¼
   â”‚    Use Domain Services
   â”‚    Use Repository Interfaces
   â”‚
3. Domain Layer
   â”‚
   â”œâ”€â”€â–¶ Domain Entities & Business Rules
   â”‚    â”‚ (Ø¨Ø¯ÙˆÙ† ØªØ¨Ø¹ÙŠØ§Øª Ø®Ø§Ø±Ø¬ÙŠØ©)
   â”‚
4. Infrastructure Layer
   â”‚
   â”œâ”€â”€â–¶ Repository Implementation
   â”‚    â”‚ (SQLAlchemy)
   â”‚    â”‚
   â”‚    â–¼
   â”‚    Database Query
   â”‚
5. Response Chain
   â”‚
   â–¼
   Domain Entity
   â”‚
   â–¼
   Application DTO
   â”‚
   â–¼
   Presentation ViewModel
   â”‚
   â–¼
   HTTP Response (JSON/HTML)
```

## ğŸ¯ Ø®Ø·Ø© Ø§Ù„ØªØ±Ø­ÙŠÙ„

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ø³ØªØ®Ø±Ø§Ø¬ Domain Models âœ… (Ø¬Ø²Ø¦ÙŠ)
```
âœ… domain/employees/models.py (ØªÙ…)
âœ… domain/vehicles/models.py (ØªÙ…)
ğŸ”„ ØªÙ‚Ø³ÙŠÙ… models.py Ø§Ù„ÙƒØ¨ÙŠØ± (Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„)
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ø³ØªØ®Ø±Ø§Ø¬ Repositories â³
```
â³ infrastructure/persistence/employee_repository.py
â³ infrastructure/persistence/vehicle_repository.py
â³ infrastructure/persistence/attendance_repository.py
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø§Ø³ØªØ®Ø±Ø§Ø¬ Application Services â³
```
âœ… application/vehicles/services.py (ØªÙ… Ø¬Ø²Ø¦ÙŠØ§Ù‹)
âœ… application/employees/services.py (ØªÙ… Ø¬Ø²Ø¦ÙŠØ§Ù‹)
â³ application/attendance/services.py
â³ application/salaries/services.py
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: ØªÙÙƒÙŠÙƒ Routes Ø§Ù„Ø¶Ø®Ù…Ø© ğŸ”´
```
ğŸ”´ routes/attendance.py (223 KB) â†’ attendance/*
ğŸ”´ routes/api_employee_requests.py (137 KB) â†’ employee_requests/*
ğŸ”´ routes/external_safety.py (127 KB) â†’ external_safety/*
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: Ø¥Ø¯Ø®Ø§Ù„ Caching & Queue â³
```
â³ infrastructure/cache/redis_cache.py
â³ infrastructure/queue/celery_tasks.py
â³ Session Store â†’ Redis
```

## ğŸ“ˆ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ

```
Ø§Ù„Ø¢Ù†       6 Ø£Ø³Ø§Ø¨ÙŠØ¹    18 Ø£Ø³Ø§Ø¨ÙŠØ¹    28 Ø£Ø³Ø§Ø¨ÙŠØ¹    36 Ø£Ø³Ø§Ø¨ÙŠØ¹    50 Ø£Ø³Ø§Ø¨ÙŠØ¹
â”‚              â”‚              â”‚              â”‚              â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Ø§Ù„Ù…Ø±Ø­Ù„Ø© 0  â”‚   Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1  â”‚   Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2  â”‚   Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3  â”‚   Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4  â”‚
â”‚  Ø§Ø³ØªÙ‚Ø±Ø§Ø±   â”‚  ÙØµÙ„ Ø§Ù„Ù†Ø·Ø§Ù‚Ø§Øª â”‚  ØªÙÙƒÙŠÙƒ Ø§Ù„Ù…Ù„ÙØ§Øªâ”‚  Clean Arch  â”‚    Ø£Ø¯Ø§Ø¡     â”‚
â”‚  ğŸ”´ Ø­Ø±Ø¬    â”‚   ğŸ”´ Ø­Ø±Ø¬     â”‚   ğŸŸ  Ø¹Ø§Ù„ÙŠ    â”‚   ğŸŸ¡ Ù…ØªÙˆØ³Ø·  â”‚   ğŸŸ¡ Ù…ØªÙˆØ³Ø·  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ† Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©

### Ù‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„ØµÙŠØ§Ù†Ø©
```
Ù‚Ø¨Ù„: ØªØºÙŠÙŠØ± Ø¨Ø³ÙŠØ· = ÙØªØ­ Ù…Ù„Ù 223 KB ÙˆÙ…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ÙÙ‡Ù… Ø³Ø§Ø¹Ø§Øª
Ø¨Ø¹Ø¯: ØªØºÙŠÙŠØ± Ø¨Ø³ÙŠØ· = ÙØªØ­ Ù…Ù„Ù 50 Ø³Ø·Ø± + ØªØ¹Ø¯ÙŠÙ„ Ù…Ø¨Ø§Ø´Ø±
```

### Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
```
Ù‚Ø¨Ù„: Ø§Ø®ØªØ¨Ø§Ø± attendance = Ù…Ø­Ø§ÙƒØ§Ø© Flask + DB + Files + ...
Ø¨Ø¹Ø¯: Ø§Ø®ØªØ¨Ø§Ø± attendance_service = unit test Ø¨Ø³ÙŠØ·
```

### Ø§Ù„Ø£Ø¯Ø§Ø¡
```
Ù‚Ø¨Ù„: ÙƒÙ„ Ø·Ù„Ø¨ ÙŠØ°Ù‡Ø¨ Ù„Ù„Ù€ DB
Ø¨Ø¹Ø¯: Ù…Ø¹Ø¸Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Redis Cache

Ù‚Ø¨Ù„: Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± PDF ÙŠÙˆÙ‚Ù Ø§Ù„Ø·Ù„Ø¨
Ø¨Ø¹Ø¯: Ø¥Ù†Ø´Ø§Ø¡ ÙÙŠ Background + Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
```

### Ø§Ù„ØªÙˆØ³Ø¹
```
Ù‚Ø¨Ù„: Ø¯Ø¹Ù… 100 Ù…Ø³ØªØ®Ø¯Ù… Ù…ØªØ²Ø§Ù…Ù†
Ø¨Ø¹Ø¯: Ø¯Ø¹Ù… 10,000+ Ù…Ø³ØªØ®Ø¯Ù… Ù…ØªØ²Ø§Ù…Ù†
```

---

**ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:** 14 ÙØ¨Ø±Ø§ÙŠØ± 2026  
**Ø§Ù„Ø­Ø§Ù„Ø©:** Ø®Ø±ÙŠØ·Ø© Ø·Ø±ÙŠÙ‚ Ù†Ø´Ø·Ø© - Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªÙ…Ø±
