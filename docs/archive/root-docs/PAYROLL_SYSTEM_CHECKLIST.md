# ูุงุฆูุฉ ุงูุชุญูู ูู ูุธุงู ุงูุฑูุงุชุจ
# Payroll System Readiness Checklist

## โ ุงูููููุงุช ุงูููุฌุฒุฉ

### 1. ููุงุฐุฌ ุงูุจูุงูุงุช (Domain Models)
- [x] PayrollRecord - ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ ููุฑุงุชุจ
- [x] PayrollConfiguration - ุฅุนุฏุงุฏุงุช ุงููุธุงู
- [x] PayrollHistory - ุณุฌู ุงูุชุฏููู
- [x] BankTransferFile - ูููุงุช ุงูุชุญููู ุงูุจููู
- [x] ุงูุนูุงูุงุช ูุงูููุงุฑุณ ุงูููุงุณุจุฉ

### 2. ุทุจูุฉ ุงูููุทู ุงูุชุฌุงุฑู (Application Services)
- [x] PayrollProcessor:
  - [x] `_calculate_period_dates()` - ุญุณุงุจ ุชูุงุฑูุฎ ุงููุชุฑุฉ
  - [x] `calculate_daily_rate()` - ุงูุฃุฌุฑ ุงููููู
  - [x] `calculate_attendance_data()` - ุจูุงูุงุช ุงูุญุถูุฑ
  - [x] `calculate_absence_deduction()` - ุฎุตู ุงูุบูุงุจ
  - [x] `calculate_gosi()` - ุงูุถูุงู ุงูุงุฌุชูุงุนู
  - [x] `calculate_gross_salary()` - ุงูุฑุงุชุจ ุงูุฅุฌูุงูู
  - [x] `process_employee_payroll()` - ูุนุงูุฌุฉ ููุธู ูุงุญุฏ
  - [x] `process_all_employees()` - ูุนุงูุฌุฉ ุงูุฌููุน
  - [x] `approve_payroll()` - ุงูููุงููุฉ
  - [x] `reject_payroll()` - ุงูุฑูุถ
  - [x] `mark_as_paid()` - ุชุญุฏูุฏ ููุฏููุน

- [x] BankTransferGenerator:
  - [x] `_get_approved_payrolls()` - ุฌูุจ ุงูุฑูุงุชุจ ุงููุนุชูุฏุฉ
  - [x] `generate_txt_format()` - ุตูุบุฉ TXT
  - [x] `generate_csv_format()` - ุตูุบุฉ CSV
  - [x] `generate_xml_format()` - ุตูุบุฉ XML
  - [x] `create_transfer_file()` - ุฅูุดุงุก ููู ุงูุชุญููู
  - [x] `export_to_excel_sheet()` - ุชุตุฏูุฑ Excel

### 3. ุทุฑู ุงููุณุงุฑ (Routes)
- [x] `/payroll/dashboard` [GET] - ููุญุฉ ุงูุชุญูู
- [x] `/payroll/process` [GET, POST] - ูุนุงูุฌุฉ ุงูุฑูุงุชุจ
- [x] `/payroll/review` [GET] - ูุฑุงุฌุนุฉ ุงูุฑูุงุชุจ
- [x] `/payroll/<id>/details` [GET] - ุชูุงุตูู ุงูุฑุงุชุจ
- [x] `/payroll/<id>/approve` [POST] - ุงูููุงููุฉ
- [x] `/payroll/<id>/reject` [POST] - ุงูุฑูุถ
- [x] `/payroll/batch-approve` [POST] - ููุงููุฉ ุฌูุงุนูุฉ
- [x] `/payroll/bank-transfer/create` [POST] - ุฅูุดุงุก ููู ุจููู
- [x] `/payroll/bank-transfer/<id>/download` [GET] - ุชุญููู ุงูููู
- [x] `/payroll/export/excel` [GET] - ุชุตุฏูุฑ Excel
- [x] `/payroll/configuration` [GET] - ุฅุนุฏุงุฏุงุช ุงููุธุงู
- [x] `/payroll/configuration/save` [POST] - ุญูุธ ุงูุฅุนุฏุงุฏุงุช

### 4. ูุงุฌูุงุช ุงููุณุชุฎุฏู (Templates)
- [x] `dashboard.html` - ููุญุฉ ุงูุชุญูู
- [x] `review.html` - ูุฑุงุฌุนุฉ ุงูุฑูุงุชุจ
- [x] `details.html` - ุชูุงุตูู ุงูุฑุงุชุจ
- [x] `process.html` - ุจุฑูุงูุฌ ุงููุนุงูุฌุฉ
- [x] `configuration.html` - ุงูุฅุนุฏุงุฏุงุช

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงููุทููุจุฉ

### ุงููุฑุญูุฉ 1: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช (IMMEDIATE)
```bash
# 1. ุฅูุดุงุก ููู ุงูููุงุฌุฑุฉ
flask db migrate -m "Add payroll system"

# 2. ุชุทุจูู ุงูููุงุฌุฑุฉ
flask db upgrade

# 3. ุงูุชุญูู ูู ุงูุฌุฏุงูู
# ุชุญูู ูู ุฃู ุงูุฌุฏุงูู ุงูุชุงููุฉ ููุฌูุฏุฉ:
# - payroll_record
# - payroll_configuration
# - payroll_history
# - bank_transfer_file
```

### ุงููุฑุญูุฉ 2: ุชูููู ุงููุธุงู (IMMEDIATE)
```bash
# 1. ุฒูุงุฑุฉ: http://localhost:5000/payroll/configuration
# 2. ุฃุฏุฎู ุงูููู ุงูุงูุชุฑุงุถูุฉ:
#    - GOSI ุงูููุธู: 10%
#    - GOSI ุงูุดุฑูุฉ: 13%
#    - ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ: 3000 SR
#    - ุฃูุงู ุงูุนูู ุงูุดูุฑู: 22
# 3. ุงููุฑ ุนูู "ุญูุธ ุงูุฅุนุฏุงุฏุงุช"
```

### ุงููุฑุญูุฉ 3: ุงุฎุชุจุงุฑ ุงููุนุงูุฌุฉ (IMMEDIATE)
```bash
# 1. ุชุฃูุฏ ูู ูุฌูุฏ:
#    - 76 ููุธูุงู ูุดุทูู ูู ุงููุธุงู
#    - ุณุฌูุงุช ุญุถูุฑ ุตุญูุญุฉ ููุดูุฑ ุงูุญุงูู
# 2. ุฒูุงุฑุฉ: http://localhost:5000/payroll/process
# 3. ุงุฎุชุฑ ุดูุฑ ูุงุญุฏ ูุงููุฑ ุนูู "ุจุฏุก ุงููุนุงูุฌุฉ"
# 4. ุชุญูู ูู ุงููุชุงุฆุฌ
```

### ุงููุฑุญูุฉ 4: ุงุฎุชุจุงุฑ ุงููุฑุงุฌุนุฉ ูุงูููุงููุฉ (HIGH)
```bash
# 1. ุฒูุงุฑุฉ: http://localhost:5000/payroll/review
# 2. ุฑุงุฌุน ุงูุฑูุงุชุจ ุงููุนุงูุฌุฉ
# 3. ุงููุฑ ุนูู "ุชูุงุตูู" ููุฑุงุชุจ ุงููุงุญุฏ
# 4. ุงุฎุชุจุฑ ุงูููุงููุฉ ูุงูุฑูุถ
# 5. ุงุฎุชุจุฑ ุงูููุงููุฉ ุงูุฌูุงุนูุฉ
```

### ุงููุฑุญูุฉ 5: ุงุฎุชุจุงุฑ ุงูุชุตุฏูุฑ ุงูุจููู (HIGH)
```bash
# 1. ุชุฃูุฏ ูู ููุงููุฉ ุฌููุน ุงูุฑูุงุชุจ
# 2. ุงููุฑ ุนูู "ุฅูุดุงุก ููู ุจููู"
# 3. ุงุฎุชุฑ:
#    - ุงูุจูู: NCB (0010)
#    - ุงูุตูุบุฉ: TXT
# 4. ุชุญูู ูู ูุญุชูู ุงูููู
# 5. ูุฑุฑ ูุน CSV ู XML
```

### ุงููุฑุญูุฉ 6: ุงุฎุชุจุงุฑ ุชุตุฏูุฑ Excel (MEDIUM)
```bash
# 1. ุงููุฑ ุนูู "ุชุตุฏูุฑ Excel"
# 2. ุงูุชุญ ุงูููู ูู Excel
# 3. ุชุญูู ูู:
#    - ุงูุฃุนูุฏุฉ ุงูุตุญูุญุฉ
#    - ุงูุฃุฑูุงู ุงูุตุญูุญุฉ
#    - ุงูุตูุบ ูุงููุฌููุน
```

### ุงููุฑุญูุฉ 7: ุงูุชุญูู ูู ุงูุฃูุงู (MEDIUM)
```bash
# 1. ุชุญูู ูู ุงูุตูุงุญูุงุช:
#    - ุงุฎุชุจุฑ ุจูุณุชุฎุฏู ุจุฏูู ุตูุงุญูุงุช
#    - ูุฌุจ ุฃู ูุญุตู ุนูู 403
# 2. ุชุญูู ูู ุชุณุฌูู ุงูุชุฏููู:
#    - ุงูุชุญ payroll_history
#    - ุชุญูู ูู ูุฌูุฏ ุฌููุน ุงูุชุนุฏููุงุช
```

---

## ๐งช ูุนุงููุฑ ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุญุณุงุจ ุงูุฑุงุชุจ
```python
# ุงุฎุชุจุงุฑ ููุทูู:
# ุงูููุธู: ุฃุญูุฏ ูุญูุฏ
# ุงูุฑุงุชุจ ุงูุฃุณุงุณู: 10,000 SR
# ุฃูุงู ุงูุบูุงุจ: 2
# ูุฒุงูุง: 1,500 SR

# ุงูุญุณุงุจุงุช ุงููุชููุนุฉ:
# - ุงูุฃุฌุฑ ุงููููู = 10,000 รท 30 = 333.33
# - ุฎุตู ุงูุบูุงุจ = 333.33 ร 2 = 666.66
# - ุงูุฑุงุชุจ ุงูุฅุฌูุงูู = 10,000 + 1,500 = 11,500
# - GOSI ุงูููุธู = 10,000 ร 10% = 1,000
# - ุงูุฎุตููุงุช = 666.66 + 1,000 = 1,666.66
# - ุงูุฑุงุชุจ ุงูุตุงูู = 11,500 - 1,666.66 = 9,833.34
```

### ุงุฎุชุจุงุฑ ุงูุชุตุฏูุฑ ุงูุจููู
```
ุชุญูู ูู ุฃู ููู TXT ูุญุชูู ุนูู:
- ุฑุฃุณ ุงูููู: 001|0010|...
- ุณุฌูุงุช ุจูุงูุงุช: 1|E001|Ahmed|...
- ุชุฐููู ุงูููู: 999|76|...
- ุงููุฌููุน ุตุญูุญ
- ุงูุชูุณูู ุตุญูุญ
```

### ุงุฎุชุจุงุฑ ุณูุฑ ุงูุนูู
```
1. ูุนุงูุฌุฉ โ ููุฏ ุงูุงูุชุธุงุฑ
2. ูุฑุงุฌุนุฉ โ ุงุนุชูุงุฏ ุฃู ุฑูุถ
3. ุงุนุชูุงุฏ โ ูุนุชูุฏ
4. ุชุญููู ุจููู โ ุฌุงูุฒ ููุฏูุน
5. ุชุญุฏูุฏ ููุฏููุน โ ูุฏููุน
```

---

## ๐ ูุงุฆูุฉ ุงููุชุทูุจุงุช ุงูุฅุถุงููุฉ (ูููุฑุงุญู ุงููุงุฏูุฉ)

- [ ] ุฅุฑุณุงู ุฑุณุงุฆู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููููุงููุฉ
- [ ] ุฌุฏููุฉ ุงููุนุงูุฌุฉ ุงูุชููุงุฆูุฉ
- [ ] ุชูุงุฑูุฑ ูุชูุฏูุฉ ูุชุญูููุงุช
- [ ] ูุงุฌูุงุช ุจุฑูุฌูุฉ (API) ููุฃูุธูุฉ ุงูุฎุงุฑุฌูุฉ
- [ ] ุฏุนู ุงูุฅุฌุงุฒุงุช ูุงูุนุทู ุงููุชูุฏู
- [ ] ุญุงุณุจุฉ ุงูุฑุงุชุจ ููููุธู
- [ ] ุดูุงุฏุงุช ุงูุฑุงุชุจ (Salary Certificates)
- [ ] ุฏุนู ุงูุนููุงุช ุงููุชุนุฏุฏุฉ

---

## ๐จ ููุงุท ุญุฑุฌุฉ ูููุฑุงุฌุนุฉ

1. **ุฏูุฉ ุงูุญุณุงุจุงุช ุงููุงููุฉ**
   - ุงุณุชุฎุฏุงู Decimal ูููุณ Float
   - ุงูุชูุฑูุจ ุงูุตุญูุญ ุฅูู ููุณูู
   - ุงููุฌุงููุน ูุงููุฑููุงุช ูุชุทุงุจูุฉ

2. **ุงูุงูุชุซุงู ุงููุงูููู**
   - โ ูุนุงููุงุช ุงูุถูุงู ุงูุงุฌุชูุงุนู ุตุญูุญุฉ
   - โ ูุนุงููุงุช ุงูุถุฑุงุฆุจ ุตุญูุญุฉ
   - โ ุฃูุงู ุงูุนูู ุงููุทููุจุฉ ุตุญูุญุฉ

3. **ุณูุงูุฉ ุงูุจูุงูุงุช**
   - โ ูุง ุชูุฌุฏ ุจูุงูุงุช ููุฑุฑุฉ
   - โ ุงูุชูุงุฑูุฎ ูุงููููุงุช ุตุญูุญุฉ
   - โ ุงูุชุณูุณูุงุช ูุง ุชุชุถุงุฑุจ

4. **ุงูุฃุฏุงุก**
   - โ ูุนุงูุฌุฉ 76 ููุธูุงู ูู < 5 ุซูุงูู
   - โ ุงุณุชุนูุงู ุงูุจูุงูุงุช ุณุฑูุน
   - โ ุงูุชุตุฏูุฑ ุงูุจููู ุณุฑูุน

5. **ุงูุฃูุงู**
   - โ ุงูุชุญูู ุจุงููุตูู ุตุญูุญ
   - โ ุชุณุฌูู ุงูุชุฏููู ูุงูู
   - โ ูุง ุชุณุฑูุจ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

---

## ๐ ุฏุนู ูุงููุดุงูู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. **ุชุญูู ูู ุณุฌูุงุช ุงูุฎุทุฃ:**
   ```bash
   tail -f logs/app.log
   ```

2. **ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   ```bash
   flask shell
   > from app.modules.payroll.domain.models import PayrollConfiguration
   > PayrollConfiguration.query.all()
   ```

3. **ุฃุนุฏ ุงููุญุงููุฉ ูุน ุชูุงุตูู ุงูุฎุทุฃ:**
   - ุงูุณุฎ ุฑุณุงูุฉ ุงูุฎุทุฃ
   - ุชุญูู ูู ุงููููุงุช
   - ุชุญูู ูู ุงูุตูุงุญูุงุช

---

## โจ ุญุงูุฉ ุงููุธุงู ุงูุญุงููุฉ

| ุงููููู | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|--------|--------|----------|
| ุงูููุงุฐุฌ | โ ุฌุงูุฒุฉ | ุฌููุน ุงูุญููู ูุงูุนูุงูุงุช |
| ุงููุนุงูุฌ | โ ุฌุงูุฒ | ุฌููุน ุงูุญุณุงุจุงุช ููุชููุฉ |
| ุงูุชูููุฏ | โ ุฌุงูุฒ | ุชูุณููุงุช TXT/CSV/XML |
| ุงูุทุฑู | โ ุฌุงูุฒุฉ | 12 ูุณุงุฑ ูุงููุฉ |
| ุงูููุงูุจ | โ ุฌุงูุฒุฉ | 5 ุตูุญุงุช ุจุชุตููู ุงุญุชุฑุงูู |
| ุงูุงุฎุชุจุงุฑ | โณ ูุนูู | ููุชุธุฑ ุงูุชุซุจูุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| ุงูุฅูุชุงุฌ | โณ ูุนูู | ููุชุธุฑ ุงูุงุฎุชุจุงุฑ ุงูุดุงูู |

---

**ุขุฎุฑ ุชุญุฏูุซ:** ููุงูุฑ 2025
**ุงููุณุคูู:** ูุฑูู ุงูุชุทููุฑ
**ุงูุญุงูุฉ:** ุฌุงูุฒ ูููุฑุญูุฉ ุงูุชุงููุฉ
