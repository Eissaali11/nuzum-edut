# كيفية تشغيل مشروع نُظم

## ⚠️ Python غير مثبت حالياً

لتشغيل المشروع، يجب تثبيت Python أولاً.

## خطوات التثبيت والتشغيل

### الخطوة 1: تثبيت Python

#### الطريقة الأولى: من الموقع الرسمي (موصى بها)
1. افتح المتصفح واذهب إلى: **https://www.python.org/downloads/**
2. حمّل **Python 3.11** أو أحدث (Python 3.12)
3. شغّل ملف التثبيت
4. **⚠️ مهم جداً**: أثناء التثبيت، تأكد من تحديد خيار **"Add Python to PATH"**
5. اضغط "Install Now"

#### الطريقة الثانية: من Microsoft Store
1. افتح **Microsoft Store**
2. ابحث عن **"Python 3.12"**
3. اضغط **"Install"**

### الخطوة 2: التحقق من التثبيت
بعد التثبيت، أعد تشغيل PowerShell ثم شغّل:
```powershell
python --version
```

يجب أن ترى شيئاً مثل: `Python 3.12.x`

### الخطوة 3: تشغيل المشروع

بعد تثبيت Python، يمكنك استخدام أحد الطرق التالية:

#### الطريقة الأولى: استخدام السكريبت التلقائي (موصى بها)
```powershell
.\install_and_run.ps1
```

#### الطريقة الثانية: الإعداد اليدوي
```powershell
# 1. إنشاء البيئة الافتراضية
python -m venv venv

# 2. تفعيل البيئة الافتراضية
.\venv\Scripts\Activate.ps1

# 3. ترقية pip
python -m pip install --upgrade pip

# 4. تثبيت المكتبات
pip install -r requirements.txt

# 5. إنشاء ملف .env (إذا لم يكن موجوداً)
# انسخ ENV_SETUP_GUIDE.md واملأ القيم

# 6. تشغيل المشروع
python main.py
```

#### الطريقة الثالثة: استخدام setup.bat
```cmd
setup.bat
```

### الخطوة 4: إنشاء ملف .env

قبل التشغيل، يجب إنشاء ملف `.env` في المجلد الرئيسي:

```env
DATABASE_URL=sqlite:///database/nuzum.db
SECRET_KEY=change_this_to_a_random_string
FLASK_ENV=development
FLASK_DEBUG=True
```

للتفاصيل الكاملة، راجع ملف `ENV_SETUP_GUIDE.md`

## بعد التشغيل

بعد تشغيل المشروع بنجاح، سيكون متاحاً على:
- **http://localhost:5000**

## بيانات الدخول الافتراضية (بعد إنشاء البيانات التجريبية)
- **البريد**: admin@nuzum.sa
- **كلمة المرور**: admin123

## إنشاء البيانات التجريبية

بعد تثبيت المكتبات، شغّل:
```powershell
python create_test_data.py
```

## استكشاف الأخطاء

### المشكلة: "python غير معروف"
**الحل**: تأكد من تحديد "Add Python to PATH" أثناء التثبيت، أو أعد تشغيل PowerShell

### المشكلة: "لا يمكن تشغيل السكريبتات"
**الحل**: شغّل PowerShell كمسؤول ثم شغّل:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### المشكلة: "Module not found"
**الحل**: تأكد من تفعيل البيئة الافتراضية:
```powershell
.\venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

---

**ملاحظة**: إذا واجهت أي مشاكل، راجع ملف `SETUP_STATUS.md` للحصول على معلومات مفصلة.

