# ๐ ุชูุฑูุฑ ุญุงูุฉ API - ููุงุฑูุฉ ุจุงููุชุทูุจุงุช ุงููุฑููุฉ

## โ Endpoints ุงูููุฌูุฏุฉ ูุงูุนุงููุฉ

### ๐ ุงููุตุงุฏูุฉ (Authentication)
| Endpoint | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|----------|--------|-----------|
| `POST /api/external/auth/login` | โ ููุฌูุฏ | ูู `routes/api_employee_requests.py` |

### ๐ ุงูุทูุจุงุช (Requests)
| Endpoint | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|----------|--------|-----------|
| `GET /api/external/requests` | โ ููุฌูุฏ | ูุฏุนู filters (type, status, dates) |
| `GET /api/external/requests/<id>` | โ ููุฌูุฏ | ุฌูุจ ุชูุงุตูู ุทูุจ ูุนูู |
| `POST /api/external/requests` | โ ููุฌูุฏ | ุฅูุดุงุก ุทูุจ ุนุงู |
| `POST /api/external/requests/<id>/upload` | โ ููุฌูุฏ | ุฑูุน ูููุงุช |
| `GET /api/external/requests/statistics` | โ ููุฌูุฏ | ุฅุญุตุงุฆูุงุช ุงูุทูุจุงุช |
| `GET /api/external/requests/types` | โ ููุฌูุฏ | ุฃููุงุน ุงูุทูุจุงุช ุงููุชุงุญุฉ |

### ๐ ุงููุฑูุจุงุช (Vehicles)
| Endpoint | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|----------|--------|-----------|
| `GET /api/external/vehicles` | โ ููุฌูุฏ | ูุงุฆูุฉ ุงูุณูุงุฑุงุช ุงููุฎุตุตุฉ ููููุธู |

### ๐ ุงูุฅุดุนุงุฑุงุช (Notifications)
| Endpoint | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|----------|--------|-----------|
| `GET /api/external/notifications` | โ ููุฌูุฏ | ุฌูุจ ุฅุดุนุงุฑุงุช ุงูููุธู |
| `PUT /api/external/notifications/<id>/read` | โ ููุฌูุฏ | ุชุญุฏูุฏ ุฅุดุนุงุฑ ูููุฑูุก |

### ๐ ุจูุงูุงุช ุงูููุธู (Employee Data)
| Endpoint | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|----------|--------|-----------|
| `POST /api/external/employee-complete-profile` | โ ููุฌูุฏ | ุงูููู ุงูุดุงูู |
| `POST /api/external/employee-location` | โ ููุฌูุฏ | ุญูุธ ูููุน GPS |

---

## โ๏ธ Endpoints ุงููุทููุจุฉ ูุงูููููุฏุฉ

### ๐ ุงูุทูุจุงุช (Requests) - Endpoints ูุชุฎุตุตุฉ
| Endpoint ุงููุทููุจ | ุงูุญุงูุฉ | ุงูุฃููููุฉ |
|----------|--------|----------|
| `POST /api/external/requests/create-advance-payment` | โ ููููุฏ | ๐ด ุนุงููุฉ |
| `POST /api/external/requests/create-invoice` | โ ููููุฏ | ๐ด ุนุงููุฉ |
| `POST /api/external/requests/create-car-wash` | โ ููููุฏ | ๐ด ุนุงููุฉ |
| `POST /api/external/requests/create-car-inspection` | โ ููููุฏ | ๐ด ุนุงููุฉ |
| `POST /api/external/requests/<id>/upload-inspection-image` | โ ููููุฏ | ๐ก ูุชูุณุทุฉ |
| `POST /api/external/requests/<id>/upload-inspection-video` | โ ููููุฏ | ๐ก ูุชูุณุทุฉ |

**ููุงุญุธุฉ ูุงูุฉ:** ูููู ุงุณุชุฎุฏุงู `POST /api/external/requests` ุงูููุฌูุฏ ุญุงููุงู ูุฅูุดุงุก ุฌููุน ุฃููุงุน ุงูุทูุจุงุชุ ููู ุงูู endpoints ุงููุชุฎุตุตุฉ ุชููุฑ ุชุฌุฑุจุฉ ุฃูุถู ูุชุญูู validations ูุญุฏุฏุฉ.

### ๐ณ ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ (Liabilities)
| Endpoint ุงููุทููุจ | ุงูุญุงูุฉ | ุงูุฃููููุฉ |
|----------|--------|----------|
| `GET /api/external/employee/liabilities` | โ ููููุฏ | ๐ด ุนุงููุฉ |
| `GET /api/external/employee/financial-summary` | โ ููููุฏ | ๐ด ุนุงููุฉ |

### ๐ ุงูุฅุดุนุงุฑุงุช (Notifications)
| Endpoint ุงููุทููุจ | ุงูุญุงูุฉ | ุงูุฃููููุฉ |
|----------|--------|----------|
| `PUT /api/external/notifications/mark-all-read` | โ ููููุฏ | ๐ข ููุฎูุถุฉ |

---

## ๐ ุงูุญู ุงูุญุงูู (Workarounds)

### 1. ุฅูุดุงุก ุงูุทูุจุงุช ุงููุชุฎุตุตุฉ
ุญุงููุงู ูููู ุงุณุชุฎุฏุงู endpoint ููุญุฏ:
```
POST /api/external/requests
```
ูุน ุชูุฑูุฑ `type` ูู body:
- `advance_payment`: ููุณูู
- `invoice`: ููููุงุชูุฑ
- `car_wash`: ูุบุณูู ุงูุณูุงุฑุงุช
- `car_inspection`: ูููุญุต ูุงูุชูุซูู

### 2. ุฑูุน ุงููููุงุช
ุญุงููุงู ูููู ุงุณุชุฎุฏุงู:
```
POST /api/external/requests/<id>/upload
```
ูุฑูุน ุฌููุน ุฃููุงุน ุงููููุงุช (ุตูุฑุ ููุฏูููุงุช)

---

## ๐ ุชูุตูุงุช ุงูุชุทููุฑ

### ุงูุฃููููุฉ ุงูุนุงููุฉ (ูุฌุจ ุฅุถุงูุชูุง ุฃููุงู)
1. โ **Endpoints ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ**
   - `GET /api/external/employee/liabilities`
   - `GET /api/external/employee/financial-summary`

2. โ **Endpoints ุงูุทูุจุงุช ุงููุชุฎุตุตุฉ**
   - `POST /api/external/requests/create-advance-payment`
   - `POST /api/external/requests/create-invoice`
   - `POST /api/external/requests/create-car-wash`
   - `POST /api/external/requests/create-car-inspection`

### ุงูุฃููููุฉ ุงููุชูุณุทุฉ
3. โ๏ธ **Endpoints ุฑูุน ุงููููุงุช ุงููุชุฎุตุตุฉ**
   - `POST /api/external/requests/<id>/upload-inspection-image`
   - `POST /api/external/requests/<id>/upload-inspection-video`

### ุงูุฃููููุฉ ุงูููุฎูุถุฉ
4. โญ **Endpoint ุชุญุฏูุฏ ุฌููุน ุงูุฅุดุนุงุฑุงุช**
   - `PUT /api/external/notifications/mark-all-read`

---

## ๐ฏ ุฎุทุฉ ุงูุชูููุฐ ุงูููุชุฑุญุฉ

### ุงููุฑุญูุฉ 1: ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ (ููู ูุงุญุฏ)
- ุฅูุดุงุก models ููุงูุชุฒุงูุงุช ูุงูุฃูุณุงุท
- ุฅูุดุงุก endpoints ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ
- ุฅุถุงูุฉ business logic ูุญุณุงุจ ุงูุงูุชุฒุงูุงุช

### ุงููุฑุญูุฉ 2: Endpoints ุงูุทูุจุงุช ุงููุชุฎุตุตุฉ (ููููู)
- ุฅูุดุงุก validation ูุฎุตุต ููู ููุน ุทูุจ
- ุฅูุดุงุก endpoints ูููุตูุฉ ูุน responses ูุญุณููุฉ
- ุชูุซูู ูู endpoint ุจุดูู ููุตู

### ุงููุฑุญูุฉ 3: ุชุญุณููุงุช ุฑูุน ุงููููุงุช (ููู ูุงุญุฏ)
- ูุตู ุฑูุน ุงูุตูุฑ ุนู ุงูููุฏูููุงุช
- ุฅุถุงูุฉ validation ูุญุณูู ุญุณุจ ููุน ุงูููู
- ุชุญุณูู handling ูููููุงุช ุงููุจูุฑุฉ

### ุงููุฑุญูุฉ 4: ุงูุฅุดุนุงุฑุงุช (ูุตู ููู)
- ุฅุถุงูุฉ endpoint mark-all-read
- ุชุญุณูู ูุธุงู ุงูุฅุดุนุงุฑุงุช

---

## โจ ููุงุญุธุงุช ุฅุถุงููุฉ

### ููุงุท ุงูููุฉ ุงูุญุงููุฉ
- โ ูุธุงู ูุตุงุฏูุฉ JWT ููู
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ
- โ ุฏุนู filters ูุชูุฏูุฉ
- โ ูุธุงู ุฑูุน ูููุงุช ูุนูู ุจููุงุกุฉ
- โ ุฅุญุตุงุฆูุงุช ููุตูุฉ

### ุชุญุณููุงุช ููุชุฑุญุฉ
- ๐ ุฅุถุงูุฉ rate limiting ูุชุญุณูู ุงูุฃูุงู
- ๐ ุฅุถุงูุฉ refresh token endpoint
- ๐ ุชูุซูู Swagger/OpenAPI ูุงูู
- ๐งช ุฅุถุงูุฉ unit tests ุดุงููุฉ
- ๐ ุฅุถุงูุฉ logging ูุญุณูู

---

## ๐ ููุชุทุจูู Flutter

### ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูุขู
- ุชุณุฌูู ุงูุฏุฎูู
- ุฌูุจ ุงูุทูุจุงุช ูุชูุงุตูููุง
- ุฅูุดุงุก ุทูุจุงุช (ุฌููุน ุงูุฃููุงุน)
- ุฑูุน ูููุงุช
- ุงูุฅุดุนุงุฑุงุช
- ุฌูุจ ุจูุงูุงุช ุงูููุธู ุงููุงููุฉ
- ุชุชุจุน ุงููููุน

### ูุญุชุงุฌ ุชุทููุฑ
- Endpoints ูุชุฎุตุตุฉ ูุฃููุงุน ุงูุทูุจุงุช (ุงุฎุชูุงุฑู - ูููู ุงุณุชุฎุฏุงู endpoint ุงูููุญุฏ)
- ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ (ูุทููุจ)
- ุงูููุฎุต ุงููุงูู (ูุทููุจ)
- ุชุญุฏูุฏ ุฌููุน ุงูุฅุดุนุงุฑุงุช ูููุฑูุกุฉ (nice to have)

---

**ุชุงุฑูุฎ ุงูุชูุฑูุฑ:** 2025-01-15  
**ุงูุฅุตุฏุงุฑ:** 1.0  
**ุงูุญุงูุฉ:** ุฌุงูุฒ ูููุฑุงุฌุนุฉ
