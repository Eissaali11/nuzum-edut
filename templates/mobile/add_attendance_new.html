{% extends 'mobile/layout.html' %}

{% block title %}تسجيل حضور - نظام إدارة الموظفين{% endblock %}

{% block header_title %}تسجيل حضور جديد{% endblock %}

{% block content %}
{% include 'mobile/partials/add_attendance_new/_content.html' %}
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // الحصول على عناصر النموذج
    const statusSelect = document.querySelector('select[name="status"]');
    const checkInInput = document.querySelector('input[name="check_in"]');
    const checkOutInput = document.querySelector('input[name="check_out"]');
    
    // تعطيل حقول الوقت إذا كانت الحالة غائب أو إجازة
    if (statusSelect && checkInInput && checkOutInput) {
        statusSelect.addEventListener('change', function() {
            const isAbsent = this.value === 'غائب' || this.value === 'إجازة';
            
            checkInInput.disabled = isAbsent;
            checkOutInput.disabled = isAbsent;
            
            if (isAbsent) {
                checkInInput.value = '';
                checkOutInput.value = '';
            }
        });
    }
});
</script>
{% endblock %}