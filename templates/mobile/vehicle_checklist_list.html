{% extends 'mobile/layout.html' %}

{% block title %}قائمة فحوصات السيارات - نظام إدارة الموظفين{% endblock %}

{% block header_title %}قائمة فحوصات السيارات{% endblock %}

{% block header_actions %}
<button class="mobile-menu-button" aria-label="العودة" onclick="location.href='{{ url_for('mobile.vehicles') }}'">
    <i class="fas fa-arrow-right"></i>
</button>
{% endblock %}

{% block content %}
{% include 'mobile/partials/vehicle_checklist_list/_content.html' %}
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // تعيين النسبة المئوية لكل دائرة تقدم
    const progressCircles = document.querySelectorAll('.checklist-progress');
    progressCircles.forEach(circle => {
        const percentage = circle.getAttribute('data-percentage');
        circle.style.setProperty('--percentage', percentage + '%');
        
        // تغيير لون الدائرة بناءً على النسبة
        if (percentage < 30) {
            circle.style.setProperty('--primary-color', '#dc3545'); // أحمر
        } else if (percentage < 70) {
            circle.style.setProperty('--primary-color', '#ffc107'); // أصفر
        } else {
            circle.style.setProperty('--primary-color', '#28a745'); // أخضر
        }
    });
});
</script>
{% endblock %}