{% extends 'mobile/layout.html' %}

{% block title %}الحضور والغياب - نُظم{% endblock %}

{% block header_title %}الحضور والغياب{% endblock %}

{% block content %}
{% include 'mobile/partials/attendance/_content.html' %}
{% endblock %}

{% block scripts %}
<script>
// البحث التلقائي عند الكتابة - فقط لحقل البحث
let searchTimeout;
const searchForm = document.getElementById('searchForm');
const searchInput = searchForm.querySelector('input[name="search"]');

if (searchInput) {
    searchInput.addEventListener('input', function() {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
            searchForm.submit();
        }, 800);
    });
}

// تغيير الفلتر
function setFilter(name, value) {
    document.getElementById('statusInput').value = value;
    searchForm.submit();
}
</script>
{% endblock %}
