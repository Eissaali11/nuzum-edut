{% extends 'layout.html' %}

{% block title %}أرصدة الإجازات{% endblock %}

{% block extra_css %}
<style>
    .balances-container { background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,.08); padding: 2rem; }
    .table { width: 100%; border-collapse: collapse; }
    .table th, .table td { padding: .8rem; border-bottom: 1px solid #edf2f7; text-align: right; }
</style>
{% endblock %}

{% block content %}
<div class="balances-container">
    <h1><i class="fas fa-layer-group"></i> أرصدة الإجازات - {{ year }}</h1>
    <table class="table">
        <thead>
            <tr>
                <th>الموظف</th>
                <th>النوع</th>
                <th>المستحق</th>
                <th>المستخدم</th>
                <th>المتبقي</th>
            </tr>
        </thead>
        <tbody>
            {% for b in balances %}
            <tr>
                <td>{{ b.employee.name if b.employee else b.employee_id }}</td>
                <td>{{ b.leave_type }}</td>
                <td>{{ "%.2f"|format(b.total_accrued) }}</td>
                <td>{{ "%.2f"|format(b.used) }}</td>
                <td>{{ "%.2f"|format(b.remaining) }}</td>
            </tr>
            {% else %}
            <tr><td colspan="5">لا توجد بيانات أرصدة.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
