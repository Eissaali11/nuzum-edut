{% extends 'layout.html' %}

{% block title %}تحليل المركبات الذكي - الذكاء الاصطناعي{% endblock %}

{% block extra_css %}
{% include 'ai_services/partials/vehicle_analytics/_extra_css.html' %}
{% endblock %}

{% block content %}
{% include 'ai_services/partials/vehicle_analytics/_content.html' %}
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// رسم بياني لأنواع المركبات
const ctx1 = document.getElementById('vehicleTypesChart').getContext('2d');
const vehicleTypesChart = new Chart(ctx1, {
    type: 'doughnut',
    data: {
        labels: ['سيدان', 'شاحنة', 'حافلة'],
        datasets: [{
            data: [6, 4, 2],
            backgroundColor: ['#00d4aa', '#0099cc', '#1e3a5c'],
            borderWidth: 2,
            borderColor: '#ffffff'
        }]
    },
    options: {
        responsive: true,
        plugins: {
            legend: {
                labels: {
                    color: '#ffffff'
                }
            }
        }
    }
});

// رسم بياني لمعدلات الاستخدام
const ctx2 = document.getElementById('usageChart').getContext('2d');
const usageChart = new Chart(ctx2, {
    type: 'bar',
    data: {
        labels: ['يناير', 'فبراير', 'مارس', 'أبريل', 'مايو', 'يونيو'],
        datasets: [{
            label: 'ساعات الاستخدام',
            data: [450, 520, 480, 600, 550, 580],
            backgroundColor: 'rgba(0, 212, 170, 0.7)',
            borderColor: '#00d4aa',
            borderWidth: 2
        }]
    },
    options: {
        responsive: true,
        plugins: {
            legend: {
                labels: {
                    color: '#ffffff'
                }
            }
        },
        scales: {
            y: {
                beginAtZero: true,
                ticks: {
                    color: '#ffffff'
                },
                grid: {
                    color: 'rgba(255, 255, 255, 0.1)'
                }
            },
            x: {
                ticks: {
                    color: '#ffffff'
                },
                grid: {
                    color: 'rgba(255, 255, 255, 0.1)'
                }
            }
        }
    }
});

function exportVehicleReport() {
    alert('سيتم إضافة وظيفة تصدير تقرير المركبات قريباً');
}
</script>
{% endblock %}