{% extends 'layout.html' %}

{% block content %}
{% include 'attendance/partials/all_departments_simple/_content.html' %}
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // تحديد العناصر
        const selectAllCheckbox = document.getElementById('select-all-departments');
        const departmentCheckboxes = document.querySelectorAll('.department-checkbox');
        
        // إضافة مستمع للحدث عند النقر على "تحديد الكل"
        selectAllCheckbox.addEventListener('change', function() {
            departmentCheckboxes.forEach(checkbox => {
                checkbox.checked = selectAllCheckbox.checked;
            });
        });
        
        // تحديث حالة "تحديد الكل" بناءً على حالة الأقسام الفردية
        departmentCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                let allChecked = true;
                departmentCheckboxes.forEach(cb => {
                    if (!cb.checked) {
                        allChecked = false;
                    }
                });
                selectAllCheckbox.checked = allChecked;
            });
        });
    });
</script>
{% endblock %}