{% extends "layout.html" %}

{% block title %}تعديل رقم SIM{% endblock %}

{% block extra_css %}
<style>
    .form-container {
        max-width: 600px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .form-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 15px 15px 0 0;
        margin: -30px -30px 30px -30px;
        text-align: center;
    }
    
    .required-field::after {
        content: " *";
        color: #dc3545;
    }
    
    .form-control:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
    }
    
    .assignment-info {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 20px;
    }
</style>
{% endblock %}

{% block content %}
{% include 'sim_management/partials/edit/_content.html' %}
{% endblock %}

{% block extra_js %}
<script>
$(document).ready(function() {
    // تنسيق رقم الهاتف أثناء الكتابة
    $('#phone_number').on('input', function() {
        let value = $(this).val().replace(/\D/g, ''); // إزالة كل شيء عدا الأرقام
        $(this).val(value);
    });
    
    // التحقق من صحة النموذج
    $('form').on('submit', function(e) {
        let phoneNumber = $('#phone_number').val();
        let carrier = $('#carrier').val();
        
        if (!phoneNumber) {
            e.preventDefault();
            alert('يرجى إدخال رقم الهاتف');
            $('#phone_number').focus();
            return false;
        }
        
        if (!carrier) {
            e.preventDefault();
            alert('يرجى اختيار شركة الاتصالات');
            $('#carrier').focus();
            return false;
        }
        
        if (phoneNumber.length < 10) {
            e.preventDefault();
            alert('رقم الهاتف قصير جداً');
            $('#phone_number').focus();
            return false;
        }
    });
    
    // إضافة تأثيرات بصرية
    $('.form-control, .form-select').on('focus', function() {
        $(this).closest('.mb-3').find('.form-label').addClass('text-primary');
    });
    
    $('.form-control, .form-select').on('blur', function() {
        $(this).closest('.mb-3').find('.form-label').removeClass('text-primary');
    });
});
</script>
{% endblock %}