{# وحدات نماذج الإدخال #}

{% macro input(name, label, type='text', value='', required=false, placeholder='', hint='') %}
<div class="mb-3">
  <label for="{{ name }}" class="form-label">{{ label }}{% if required %} <span class="text-danger">*</span>{% endif %}</label>
  <input type="{{ type }}" class="form-control" id="{{ name }}" name="{{ name }}" value="{{ value }}" placeholder="{{ placeholder }}" {% if required %}required{% endif %}>
  {% if hint %}<div class="form-text">{{ hint }}</div>{% endif %}
</div>
{% endmacro %}

{% macro select(name, label, options, value='', required=false, prompt='اختر...') %}
<div class="mb-3">
  <label for="{{ name }}" class="form-label">{{ label }}{% if required %} <span class="text-danger">*</span>{% endif %}</label>
  <select class="form-select" id="{{ name }}" name="{{ name }}" {% if required %}required{% endif %}>
    <option value="">{{ prompt }}</option>
    {% for opt in options %}
    <option value="{{ opt.value if opt is mapping else opt }}" {{ 'selected' if (opt.value if opt is mapping else opt) == value }}>{{ opt.label if opt is mapping else opt }}</option>
    {% endfor %}
  </select>
</div>
{% endmacro %}

{% macro textarea(name, label, value='', rows=3, required=false) %}
<div class="mb-3">
  <label for="{{ name }}" class="form-label">{{ label }}{% if required %} <span class="text-danger">*</span>{% endif %}</label>
  <textarea class="form-control" id="{{ name }}" name="{{ name }}" rows="{{ rows }}" {% if required %}required{% endif %}>{{ value }}</textarea>
</div>
{% endmacro %}

{% macro submit(label='حفظ', cancel_url=None) %}
<div class="d-flex gap-2">
  <button type="submit" class="btn btn-primary">{{ label }}</button>
  {% if cancel_url %}<a href="{{ cancel_url }}" class="btn btn-outline-secondary">إلغاء</a>{% endif %}
</div>
{% endmacro %}
